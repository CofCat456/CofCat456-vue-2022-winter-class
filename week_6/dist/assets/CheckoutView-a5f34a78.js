import{F as f,a as g,E as v,c as V,b as t}from"./object-62e8e050.js";import{S as y}from"./sweetalert2.all-f0d2f0c5.js";import{e as E}from"./api-96222c03.js";import{p as S}from"./global-69792a57.js";import{_ as k,r as c,o as d,c as m,b as e,a as s,w as x,n as i}from"./index-9b35a631.js";const w={components:{VForm:f,VField:g,VErrorMessage:v},data:()=>({loadingStatus:!1}),computed:{schema(){return V({email:t().email("請輸入正確的 Email 格式 ㅍ_ㅍ !!").required("Email 為必填!"),name:t().required("姓名 為必填!"),tel:t().matches(S,"請輸入正確的電話格式 -`д´- !!").required("電話 為必填!"),address:t().required("地址 為必填!"),message:t()})}},methods:{handleSubmit(r){this.loadingStatus=!0;const{email:_,name:h,tel:u,address:b,message:o}=r;E({data:{user:{name:h,email:_,tel:u,address:b},message:o}}).then(()=>{this.loadingStatus=!1,y.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,icon:"success",title:"建立訂單成功 (ﾉ>ω<)ﾉ !"}),this.$router.push({name:"ProductList"})}).catch(a=>{console.log(a),this.loadingStatus=!1})}}},F={class:"container position-absolute top-50 start-50 translate-middle text-center"},B={class:"row justify-content-center"},C=e("h1",{class:"h3 mb-3"},"送出訂單",-1),q={class:"col-md-6"},M={class:"mb-3"},$=e("label",{for:"email",class:"form-label"},"Email",-1),N={class:"mb-3"},P=e("label",{for:"name",class:"form-label"},"收件人姓名",-1),j={class:"mb-3"},z=e("label",{for:"tel",class:"form-label"},"收件人電話",-1),A={class:"mb-3"},L=e("label",{for:"address",class:"form-label"},"收件人地址",-1),R={class:"mb-3"},D=e("label",{for:"message",class:"form-label"},"留言",-1),G={key:0,class:"btn btn-lg w-100 mt-3 btn-primary",type:"button",disabled:""},H=e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),I=[H],J={key:1,class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"};function K(r,_,h,u,b,o){const a=c("VField"),l=c("VErrorMessage"),p=c("VForm");return d(),m("section",F,[e("div",B,[C,e("div",q,[s(p,{class:"text-start fs-6","validation-schema":o.schema,onSubmit:o.handleSubmit},{default:x(({errors:n})=>[e("div",M,[$,s(a,{id:"email",name:"email",type:"email",class:i(["form-control",{"is-invalid":n.email}]),placeholder:"請輸入 Email"},null,8,["class"]),s(l,{name:"email",class:"invalid-feedback"})]),e("div",N,[P,s(a,{id:"name",name:"name",type:"text",class:i(["form-control",{"is-invalid":n.name}]),placeholder:"請輸入姓名"},null,8,["class"]),s(l,{name:"name",class:"invalid-feedback"})]),e("div",j,[z,s(a,{id:"tel",name:"tel",type:"text",class:i(["form-control",{"is-invalid":n.tel}]),placeholder:"請輸入電話"},null,8,["class"]),s(l,{name:"tel",class:"invalid-feedback"})]),e("div",A,[L,s(a,{id:"address",name:"address",type:"text",class:i(["form-control",{"is-invalid":n.address}]),placeholder:"請輸入電話"},null,8,["class"]),s(l,{name:"address",class:"invalid-feedback"})]),e("div",R,[D,s(a,{as:"textarea",id:"message",name:"message",class:"form-control",cols:"30",rows:"10"})]),r.loadingStatus?(d(),m("button",G,I)):(d(),m("button",J,"送出訂單"))]),_:1},8,["validation-schema","onSubmit"])])])])}const X=k(w,[["render",K]]);export{X as default};
