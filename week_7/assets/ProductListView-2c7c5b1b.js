import{L as w}from"./Loading-42f177d0.js";import{c as B}from"./context-a6f610a2.js";import{_ as f,o as s,c as o,F as C,g as b,n as v,t as a,i as P,j as N,r as _,e as t,d as g}from"./index-b8bbc98a.js";import{B as V}from"./Breadcrumb-34f6a483.js";import{g as j}from"./api-161edbe7.js";const D={props:{currentCategory:{type:String,default:"全部"}},methods:{goCategory(e){this.$emit("updateCategory",e)}},computed:{getCategoryList(){return["全部",...B.keys()]}}},M={class:"list-group"},F=["onClick"];function S(e,r,c,d,l,i){return s(),o("div",M,[(s(!0),o(C,null,b(i.getCategoryList,n=>(s(),o("button",{key:n,type:"button",class:v(["list-group-item list-group-item-action",{active:c.currentCategory===n}]),onClick:m=>i.goCategory(n)},a(n),11,F))),128))])}const T=f(D,[["render",S]]);const z={components:{Loading:w,CategoryList:T,Breadcrumb:V},data(){return{products:[],currentCategory:"全部"}},computed:{getBreadcrumb(){return[{title:"首頁",pathName:"Home"},{title:this.currentCategory==="全部"?"產品列表":`產品列表(${this.currentCategory})`}]}},watch:{currentCategory(){this.currentCategory==="全部"?this.getProductList():this.getProductList(this.currentCategory)}},methods:{getBadgeColor(e){return`text-bg-${P.get(e)||"secondary"}`},getProductList(e){this.$refs.loading.show(),j(e).then(r=>{this.$refs.loading.hide();const{data:{success:c,products:d}}=r;if(c){if(d===null){this.products=[];return}this.products=Object.values(d)}}).catch(r=>{this.$refs.loading.hide();const{response:c}=r;N(c)})},goDetail(e){this.$router.push(`/product/${e}`)}},mounted(){this.getProductList()}},A={class:"container py-5"},E={class:"row"},H={class:"col-10 offset-md-2"},O={class:"col-md-2 col-12 mb-md-0 mb-3"},U={class:"col"},q={class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"},G=["onClick"],I={class:"card__image rounded overflow-hidden"},J={class:"ratio ratio-16x9"},K=["alt","src"],Q={class:"card-body d-flex flex-column align-items-start pt-2"},R={class:"card-title"},W={class:"d-inline-flex align-items-center gap-1 mb-2"},X=t("i",{class:"bi bi-star-fill text-info"},null,-1),Y={class:"mb-0 text-secondary"},Z={key:0},tt={key:1},et={class:"mt-auto mb-0 lh-1 fs-7 text-muted text-decoration-line-through"},st={class:"mb-0 fw-bold"};function ot(e,r,c,d,l,i){const n=_("Breadcrumb"),m=_("CategoryList"),L=_("Loading");return s(),o("div",A,[t("div",E,[t("div",H,[g(n,{breadcrumbList:i.getBreadcrumb},null,8,["breadcrumbList"])]),t("div",O,[g(m,{currentCategory:l.currentCategory,onUpdateCategory:r[0]||(r[0]=u=>l.currentCategory=u)},null,8,["currentCategory"])]),t("div",U,[t("div",q,[(s(!0),o(C,null,b(l.products,({id:u,title:h,category:p,evaluate:y,price:$,origin_price:x,imageUrl:k})=>(s(),o("div",{key:u,class:"col"},[t("div",{style:{cursor:"pointer"},class:"card h-100 border-0",onClick:rt=>i.goDetail(u)},[t("div",I,[t("div",J,[t("img",{class:"card-img-top object-fit-cover",alt:h,src:k},null,8,K)])]),t("div",Q,[t("span",{class:v(["badge rounded-pill mb-2",i.getBadgeColor(p)])},a(p),3),t("h5",R,a(h),1),t("div",W,[X,t("p",Y,[y?(s(),o("small",Z,a(y),1)):(s(),o("small",tt,"0"))])]),t("p",et,a(e.$filters.currency(x,"NT ")),1),t("p",st,a(e.$filters.currency($,"NT ")),1)])],8,G)]))),128))])])]),g(L,{ref:"loading"},null,512)])}const lt=f(z,[["render",ot]]);export{lt as default};
